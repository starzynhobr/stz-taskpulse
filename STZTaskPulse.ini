[Rainmeter]
Update=1000
AccurateText=1
DynamicWindowSize=1
ZPos=2
KeepOnScreen=1
SnapEdges=1

[Metadata]
Name=STZTaskPulse
Author=STZ
Information=Minimal CPU/RAM/GPU usage strip for taskbar top edge.
Version=1.0

[Variables]
FontName=Segoe UI
FontSize=10
FontColor=240,240,240,255
PaddingX=10
PaddingY=6
Gap=8
BlockW=64
DiskBlockW=#BlockW#
GPUBlockW=#BlockW#
NetBlockW=200
ShowDisk=0
ShowNet=0
DiskInstance=_Total
NetInterface=Best
GPUInstance=_Total
GPUList=0
SettingsFile=#CURRENTPATH#STZTaskPulseSettings.inc
@include=#SettingsFile#

[StyleText]
FontFace=#FontName#
FontSize=#FontSize#
FontColor=#FontColor#
AntiAlias=1
StringAlign=Left
ClipString=1

[MeasureCPU]
Measure=CPU

[MeasureRAMUsed]
Measure=PhysicalMemory

[MeasureRAMTotal]
Measure=PhysicalMemory
Total=1

[MeasureRAMPct]
Measure=Calc
Formula=(MeasureRAMUsed / MeasureRAMTotal) * 100

[MeasureGPU]
Measure=Plugin
Plugin=UsageMonitor
Category=GPU Engine
Counter=Utilization Percentage
Instance=#GPUInstance#
List=#GPUList#
DynamicVariables=1

[MeasureDisk]
Measure=Plugin
Plugin=UsageMonitor
Category=PhysicalDisk
Counter=% Disk Time
Instance=#DiskInstance#
DynamicVariables=1

[MeasureDiskPct]
Measure=Calc
Formula=MeasureDisk

[MeasureNetDown]
Measure=NetIn
Interface=#NetInterface#
DynamicVariables=1

[MeasureNetUp]
Measure=NetOut
Interface=#NetInterface#
DynamicVariables=1

[MeasureGPUPct]
Measure=Calc
Formula=MeasureGPU

[MeterCPU]
Meter=String
MeterStyle=StyleText
MeasureName=MeasureCPU
X=#PaddingX#
Y=#PaddingY#
W=#BlockW#
Text=CPU %1%
NumOfDecimals=0

[MeterRAM]
Meter=String
MeterStyle=StyleText
MeasureName=MeasureRAMPct
X=(#PaddingX#+#BlockW#+#Gap#)
Y=#PaddingY#
W=#BlockW#
Text=RAM %1%
NumOfDecimals=0

[MeterGPU]
Meter=String
MeterStyle=StyleText
MeasureName=MeasureGPUPct
X=(#PaddingX#+(#BlockW#+#Gap#)*2)
Y=#PaddingY#
W=#GPUBlockW#
Text=GPU %1%
NumOfDecimals=0

[MeterDisk]
Meter=String
MeterStyle=StyleText
MeasureName=MeasureDiskPct
X=(#PaddingX#+(#BlockW#+#Gap#)*2 + #GPUBlockW# + #Gap#)
Y=#PaddingY#
W=#DiskBlockW#
Text=DSK %1%
NumOfDecimals=0
Hidden=(1-#ShowDisk#)
DynamicVariables=1

[MeterNet]
Meter=String
MeterStyle=StyleText
MeasureName=MeasureNetDown
MeasureName2=MeasureNetUp
X=(#PaddingX#+(#BlockW#+#Gap#)*2 + #GPUBlockW# + #Gap# + (#ShowDisk#*(#DiskBlockW#+#Gap#)))
Y=#PaddingY#
W=#NetBlockW#
Text=NET D %1B/s U %2B/s
NumOfDecimals=1
NumOfDecimals2=1
AutoScale=1
AutoScale2=1
ClipString=0
Hidden=(1-#ShowNet#)
DynamicVariables=1
